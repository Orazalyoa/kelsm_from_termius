import{_ as G}from"./_plugin-vue_export-helper-BgbHP9iJ.js";/* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              */import{V as M,r as d,c as x,e as O,P as _,Q as n,j as m,W as l,u as c,a4 as f,Z as i,B as C,Y as v,F as P,X as V}from"./vue-vendor-DEVBTxx0.js";import{u as R,g as W,h as X,e as Y}from"./index-tPAe9Dy4.js";import{NavBar as Z,Search as $,Cell as q,Checkbox as z,Button as A,showToast as H,Loading as J,Empty as K,CheckboxGroup as ee}from"./vant-CoNmWDyF.js";const oe={class:"profession-container"},te={class:"main-content"},ne={class:"group-header"},se={class:"group-letter"},ae={class:"profession-name"},re={class:"button-container"},le={__name:"Profession",setup(ce){const k=M(),{t:a}=R(),u=d(""),t=d([]),h=d([]),g=d(!1),y=x(()=>u.value?h.value.filter(e=>e.name.toLowerCase().includes(u.value.toLowerCase())):h.value),B=x(()=>{const e={};return y.value.forEach(o=>{const s=o.name[0].toUpperCase();e[s]||(e[s]=[]),e[s].push(o)}),e});function w(){k.back()}function I(e){const o=t.value.indexOf(e);o>-1?t.value.splice(o,1):t.value.push(e)}function L(){}async function N(){g.value=!0;try{const e=W("temp_user_type"),o={};e==="expert"&&(o.user_type="expert");const s=await X(o);h.value=s.professions||[]}catch(e){console.error("Failed to load professions:",e),H(a("common.load_failed"))}finally{g.value=!1}}function S(){t.value.length!==0&&(Y("temp_professions",t.value),k.push({name:"ProfileInfo"}))}return O(()=>{N()}),(e,o)=>{const s=Z,E=$,F=J,T=K,U=z,Q=q,j=ee,D=A;return n(),_("div",oe,[m(s,{title:c(a)("auth.profession_title"),"left-arrow":"",onClickLeft:w},null,8,["title"]),l("div",te,[m(E,{modelValue:u.value,"onUpdate:modelValue":o[0]||(o[0]=r=>u.value=r),placeholder:c(a)("auth.search"),onSearch:L},null,8,["modelValue","placeholder"]),g.value?(n(),f(F,{key:0,class:"loading-state",vertical:""},{default:i(()=>[C(v(c(a)("common.loading")),1)]),_:1})):y.value.length===0?(n(),f(T,{key:1,description:c(a)("auth.no_profession_found")},null,8,["description"])):(n(),f(j,{key:2,modelValue:t.value,"onUpdate:modelValue":o[1]||(o[1]=r=>t.value=r)},{default:i(()=>[(n(!0),_(P,null,V(B.value,(r,b)=>(n(),_("div",{key:b,class:"profession-group"},[l("div",ne,[l("span",se,v(b),1)]),(n(!0),_(P,null,V(r,p=>(n(),f(Q,{key:p.id,clickable:"",onClick:ie=>I(p.id)},{title:i(()=>[l("span",ae,v(p.name),1)]),"right-icon":i(()=>[m(U,{name:p.id},null,8,["name"])]),_:2},1032,["onClick"]))),128))]))),128))]),_:1},8,["modelValue"])),l("div",re,[m(D,{type:"primary",block:"",round:"",disabled:t.value.length===0,onClick:S},{default:i(()=>[C(v(c(a)("auth.continue")),1)]),_:1},8,["disabled"])])])])}}},xe=G(le,[["__scopeId","data-v-eeccb8ef"]]);export{xe as default};
