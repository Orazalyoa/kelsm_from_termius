import{_ as j}from"./_plugin-vue_export-helper-BgbHP9iJ.js";/* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              */import{V as q,_ as z,c as g,r as i,P as u,Q as d,W as o,j as _,u as m,$ as D,y,s as E,Z as v,F,X as R,Y as c,a2 as T,B as U}from"./vue-vendor-DEVBTxx0.js";import{u as M,e as k}from"./index-tPAe9Dy4.js";import{NavBar as Q,Popover as S,Button as W}from"./vant-CoNmWDyF.js";const X={class:"phone-login-container"},Y={class:"phone-navbar-wrapper"},Z={class:"main-content"},A={class:"input-container"},G={class:"country-code"},H={class:"country-code-text"},J={class:"country-list-popup"},K=["onClick"],O={class:"country-flag"},ee={class:"country-name"},oe={class:"country-code-text"},te=["placeholder"],ne={key:0,class:"error-message"},ae={class:"error-text"},se={class:"button-container"},ce={__name:"PhoneLogin",setup(re){const h=q(),b=z(),{t:e}=M(),C=g(()=>b.query.mode||"login"),r=i(""),a=i(""),p=i(!1),l=i({code:"+7",name:"Ð Ð¾ÑÑÐ¸Ñ",flag:"ðŸ‡·ðŸ‡º"}),w=i([{code:"+7",name:e("countries.russia"),flag:"ðŸ‡·ðŸ‡º"},{code:"+7",name:e("countries.kazakhstan"),flag:"ðŸ‡°ðŸ‡¿"},{code:"+1",name:e("countries.usa"),flag:"ðŸ‡ºðŸ‡¸"},{code:"+86",name:e("countries.china"),flag:"ðŸ‡¨ðŸ‡³"},{code:"+44",name:e("countries.uk"),flag:"ðŸ‡¬ðŸ‡§"},{code:"+49",name:e("countries.germany"),flag:"ðŸ‡©ðŸ‡ª"},{code:"+33",name:e("countries.france"),flag:"ðŸ‡«ðŸ‡·"},{code:"+81",name:e("countries.japan"),flag:"ðŸ‡¯ðŸ‡µ"},{code:"+82",name:e("countries.korea"),flag:"ðŸ‡°ðŸ‡·"},{code:"+91",name:e("countries.india"),flag:"ðŸ‡®ðŸ‡³"}]),f=g(()=>r.value.length>=10&&!a.value),x=()=>{h.back()},P=()=>{B()},B=()=>{const n=r.value.trim();if(!n){a.value="";return}n.length<10?a.value=e("auth.invalid_phone"):a.value=""},N=n=>{l.value=n,p.value=!1},V=()=>{if(!f.value)return;const n=`${l.value.code}${r.value}`;k("temp_phone",n),k("temp_country_code",l.value.code),h.push({name:"Login",query:{identifier:n,type:"phone",mode:C.value}})};return(n,s)=>{const I=Q,L=S,$=W;return d(),u("div",X,[o("div",Y,[_(I,{title:m(e)("auth.phone_title"),"left-arrow":"",onClickLeft:x},null,8,["title"])]),o("div",Z,[o("div",A,[o("div",{class:y(["phone-input-wrapper",{error:a.value}])},[_(L,{show:p.value,"onUpdate:show":s[0]||(s[0]=t=>p.value=t),placement:"bottom-start"},{reference:v(()=>[o("div",G,[o("span",H,c(l.value.code),1),s[2]||(s[2]=o("span",{class:"dropdown-icon"},"â–¼",-1))])]),default:v(()=>[o("div",J,[(d(!0),u(F,null,R(w.value,t=>(d(),u("div",{key:t.code,class:y(["country-item",{selected:t.code===l.value.code}]),onClick:le=>N(t)},[o("span",O,c(t.flag),1),o("span",ee,c(t.name),1),o("span",oe,c(t.code),1)],10,K))),128))])]),_:1},8,["show"]),E(o("input",{"onUpdate:modelValue":s[1]||(s[1]=t=>r.value=t),type:"tel",placeholder:m(e)("auth.phone_placeholder"),class:"phone-input",onInput:P,maxlength:"15"},null,40,te),[[T,r.value]])],2),a.value?(d(),u("div",ne,[o("span",ae,c(a.value),1)])):D("",!0)]),o("div",se,[_($,{type:"primary",block:"",round:"",disabled:!f.value,onClick:V},{default:v(()=>[U(c(m(e)("auth.continue")),1)]),_:1},8,["disabled"])])])])}}},ge=j(ce,[["__scopeId","data-v-bdda34b2"]]);export{ge as default};
