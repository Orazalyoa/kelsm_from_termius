import{_ as b}from"./_plugin-vue_export-helper-BgbHP9iJ.js";/* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              */import{V as x,_ as B,r as l,c as N,P as E,Q as P,j as d,W as i,u as t,Y as p,Z as h,B as D}from"./vue-vendor-DEVBTxx0.js";import{u as R,v as S,f as T,e as f}from"./index-tPAe9Dy4.js";import{h as U}from"./errorHandler-D1LKPKx3.js";import{NavBar as j,Field as q,Button as A,Dialog as F}from"./vant-CoNmWDyF.js";const H={class:"company-id-container"},L={class:"main-content"},M={class:"input-container"},Q={class:"help-text"},W={class:"button-container"},Y={style:{padding:"16px","line-height":"1.6"}},Z={__name:"CompanyId",setup($){const _=x(),y=B(),{t:e}=R(),a=l(y.query.type||"company"),o=l(""),s=l(""),u=l(!1),v=l(!1),m=N(()=>o.value.length>=3);function g(){_.back()}async function w(){if(!(!m.value||u.value)){u.value=!0,s.value="";try{a.value==="invite"?(await S(o.value)).valid?(T(e("auth.invite_code_valid")),f("temp_invite_code",o.value),_.push({name:"Profession"})):s.value=e("auth.invalid_invite_code"):(f("temp_company_id",o.value),_.push({name:"ProfileInfo"}))}catch(c){console.error("Validation failed:",c),U(c,e("auth.invalid_invite_code")),s.value=e("auth.invalid_invite_code")}finally{u.value=!1}}}return(c,n)=>{const k=j,C=q,I=A,V=F;return P(),E("div",H,[d(k,{title:a.value==="invite"?t(e)("auth.invite_code_title"):t(e)("auth.company_id_title"),"left-arrow":"",onClickLeft:g},null,8,["title"]),i("div",L,[i("div",M,[d(C,{modelValue:o.value,"onUpdate:modelValue":n[0]||(n[0]=r=>o.value=r),placeholder:a.value==="invite"?t(e)("auth.invite_code_placeholder"):t(e)("auth.company_id_placeholder"),"error-message":s.value,clearable:""},null,8,["modelValue","placeholder","error-message"]),i("div",{class:"help-link",onClick:n[1]||(n[1]=r=>v.value=!0)},[i("span",Q,p(a.value==="invite"?t(e)("auth.what_is_invite_code"):t(e)("auth.what_is_id")),1)])]),i("div",W,[d(I,{type:"primary",block:"",round:"",disabled:!m.value,loading:u.value,onClick:w},{default:h(()=>[D(p(a.value==="invite"?t(e)("auth.verify"):t(e)("auth.continue")),1)]),_:1},8,["disabled","loading"])])]),d(V,{show:v.value,"onUpdate:show":n[2]||(n[2]=r=>v.value=r),title:a.value==="invite"?t(e)("auth.invite_code_help_title"):t(e)("auth.company_id_help_title")},{default:h(()=>[i("div",Y,p(a.value==="invite"?t(e)("auth.invite_code_help_content"):t(e)("auth.company_id_help_content")),1)]),_:1},8,["show","title"])])}}},le=b(Z,[["__scopeId","data-v-847c3406"]]);export{le as default};
