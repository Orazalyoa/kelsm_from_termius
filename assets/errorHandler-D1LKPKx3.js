import{j as o}from"./index-tPAe9Dy4.js";const l=(e,t="操作失败")=>{var f;console.error("API Error:",e);let r=null;if((f=e.response)!=null&&f.data?r=e.response.data:e.data?r=e.data:e.response&&(r=e.response),!r){if(e.message&&e.message!=="Network Error"&&!e.message.includes("timeout")){o(e.message);return}console.warn("No error data found, using default message"),o(t);return}if(r.errors&&typeof r.errors=="object"&&!Array.isArray(r.errors)){const n=r.errors,a=Object.keys(n);if(a.length>0){const s=a[0],i=n[s];let c=null;if(Array.isArray(i)&&i.length>0?c=i[0]:i&&typeof i=="string"&&(c=i),c){o(c);return}}}if(r.error){o(r.error);return}if(r.message){if(r.message==="The given data was invalid."&&r.errors){if(Object.keys(r.errors||{}).length===0){o(t);return}o(t);return}o(r.message);return}o(t)},y=(e,t="操作失败")=>{if(!e.response)return t;const{data:r}=e.response;if(r!=null&&r.errors&&typeof r.errors=="object"){const f=r.errors,n=Object.keys(f);if(n.length>0){const a=n[0],s=f[a];if(Array.isArray(s)&&s.length>0)return s[0];if(s&&typeof s=="string")return s}}return r!=null&&r.error?r.error:r!=null&&r.message?r.message:t};export{y as e,l as h};
